<p id="status">Loadingâ€¦</p>
<ul id="countries"></ul>

<script>
async function loadCountries() {
  try {
    const res = await fetch("/api/countries");
    if (!res.ok) throw new Error("API error");

    const data = await res.json();

    document.getElementById("status").textContent = "";

    const ul = document.getElementById("countries");
    ul.innerHTML = "";

    for (const c of data) {
      const li = document.createElement("li");
      li.textContent = c.name;
      ul.appendChild(li);
    }
  } catch (e) {
    document.getElementById("status").textContent = "Failed to load data";
    console.error(e);
  }
}

loadCountries();
</script>